
<!--begin::Entry-->
<style>
	* {
	  box-sizing: border-box;
	}
	
	body {
	  font: 16px Arial;  
	}
	
	/*the container must be positioned relative:*/
	.autocomplete {
	  position: relative;
	  display: inline-block;
	}
	
	input {
	  border: 1px solid transparent;
	  background-color: #f1f1f1;
	  padding: 10px;
	  font-size: 16px;
	}
	
	input[type=text] {
	  background-color: #f1f1f1;
	  width: 100%;
	}
	
	input[type=submit] {
	  background-color: DodgerBlue;
	  color: #fff;
	  cursor: pointer;
	}
	
	.autocomplete-items {
	  position: absolute;
	  border: 1px solid #d4d4d4;
	  border-bottom: none;
	  border-top: none;
	  z-index: 99;
	  /*position the autocomplete items to be the same width as the container:*/
	  top: 100%;
	  left: 0;
	  right: 0;
	}
	
	.autocomplete-items div {
	  padding: 10px;
	  cursor: pointer;
	  background-color: #fff; 
	  border-bottom: 1px solid #d4d4d4; 
	}
	
	/*when hovering an item:*/
	.autocomplete-items div:hover {
	  background-color: #e9e9e9; 
	}
	
	/*when navigating through the items using the arrow keys:*/
	.autocomplete-active {
	  background-color: DodgerBlue !important; 
	  color: #ffffff; 
	}
	</style>
						<div class="d-flex flex-column-fluid">

							<!--begin::Container-->
							<div class="container-fluid">

										<div class="card card-custom">

											<!--begin::Body-->
											<div class="card-body">

													<!--begin::Top-->
													<div class="d-flex align-items-center justify-content-between">

														<!--begin::Label-->
														<span class="label label-lg label-light-primary label-inline font-size-sm font-weight-bolder py-5">03 SEP, 20</span>

														<!--end::Label-->

													</div>

													<!--end::Top-->

													<!--begin::Carousel-->
													<div class="carousel-inner pt-9">
													
													
														<div class="carousel-item active">

															<!--begin::Section-->
															<div class="flex-grow-1">

																<!--begin::Title-->
																<h3 class="font-size-h4 text-dark-75 text-hover-primary font-weight-bold">Welcome to Nera Support</h3>

																<!--end::Title-->

																<!--begin::Text-->
																<p class="text-dark-75 font-size-lg font-weight-normal pt-2">Cplus - Singapore Telecommunication LTD your Last Signed on <span class="text-danger">Tue 06 jul-2010 1052:36 from 121231.1231</span></p>

																<!--end::Text-->
															</div>

															<!--end::Section-->
														</div>
													</div>

													<div class="card card-custom">
													
														<!--begin::Form-->
														
														 <div class="card-body">
														  <div class="form-group">
														  
														  </div>
														  <div class="form-group">
														   <div class="input-icon">
															<input type="text" class="form-control autocomplete" id="txt_search" placeholder="Have a question? Search for answers" onKeyUp="showResults(this.value)" />
															<div id="result"></div>
															<span class="svg-icon svg-icon-primary svg-icon-2x"><!--begin::Svg Icon | path:D:\xampp\htdocs\keenthemes\legacy\keen\theme\demo6\dist/../src/media/svg/icons\General\Search.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
																<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
																	<rect x="0" y="0" width="24" height="24"/>
																	<path d="M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>
																	<path d="M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z" fill="#000000" fill-rule="nonzero"/>
																</g>
															</svg><!--end::Svg Icon--></span>
														   </div>
														   
														 


														  </div>

														<div id="div_kb">
															
														</div>

														  
														  
														 </div>
													
													
														<!--end::Form-->
													   </div>

													<!--end::Carousel-->
												
											</div>

											<!--end::Body-->

											<!--begin::Footer-->
											<div class="card-footer d-flex align-items-center justify-content-between py-5">
												
												
											</div>

											<!--end::Footer-->
										</div>
							</div>

							<!--end::Container-->
						</div>

						<!--end::Entry-->
						<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
						<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

						<script>

                             $('#txt_search').keyup(function(e)
							{
								if(e.keyCode == 13)
								{
									getKBdata($('#txt_search').val())
								}
							});



							function getKBdata(keyword)
							{
								var divContent=''
								$('#div_kb').empty();
									divContent=''

                             var postData=
							 {
								 'search_text' : keyword
							 }


								$.ajax({
										type      : 'POST', //Method type
										url       : window.location.href, //Your form processing file URL
										data      : JSON.stringify(postData), //Forms 
										contentType: "application/json; charset=utf-8",
										success   : function(data) 
												{
													
													console.log(data)
													var parseData=JSON.parse(data)
													console.log(data)
													
													divContent=''
													for(var i=0; i<parseData.length; i++)
													{
														divContent+='<h1>'+parseData[i].values["title"]+'</h1>'
													    divContent+='<p>'+parseData[i].values["message"]+' </p>'
														pagelink="${ds.Kb_ViewPage}"+"&kbid="+parseData[i].id
														createNewTicketUrl='${ds.create_NewTicketScriptUrl}&username='
													    divContent+="<p><button type='button' class='btn btn-danger' onClick='window.open(\"/"+pagelink+"\")'>Read More</button></p>"
													}

												        divContent+="</br></br><h4><strong>Can't find your answer?</strong> <a href=\"/"+createNewTicketUrl+"\" class='text-danger'>Create New Ticket</a> </h4>"
								                        $('#div_kb').append('<div class="form-group">'+divContent+"</div>")

													// var parseData="";
													// var tranid=""
													// parseData=JSON.parse(data)
													// tranid=parseData.tranid
													// window.location = "https://tstdrv925863.extforms.netsuite.com/app/site/hosting/scriptlet.nl?script=668&deploy=1&compid=TSTDRV925863&h=ffa9bfde1e0cbcb68951&tranid="+tranid;
												}
												
		                      	});
							}



// 							var search_terms = ['order'];
 
 function showResults(input) {
	 	var tags = ["Order History","History","Purchases outside the United States","All Orders", "Sales Tax","Sale","Purchases","Status"];

   if (input == '') {
	 return [];
   }
   autocomplete(document.getElementById("txt_search"), tags);
 }
  
//  function showResults(val) {
//    res = document.getElementById("result");
//    res.innerHTML = '';
//    let list = '';
//    let terms = autocompleteMatch(val);
//    for (i=0; i<terms.length; i++) {
// 	 list += '<li>' + terms[i] + '</li>';
//    }
//    res.innerHTML = '<ul>' + list + '</ul>';
//  }


function autocomplete(inp, arr) {


  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      /*close any already open lists of autocompleted values*/
	  console.log("this.value",this.value)
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      /*create a DIV element that will contain the items (values):*/
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "autocomplete-list");
      a.setAttribute("class", "autocomplete-items");
      /*append the DIV element as a child of the autocomplete container:*/
      this.parentNode.appendChild(a);
      /*for each item in the array...*/
      for (i = 0; i < arr.length; i++) {
        /*check if the item starts with the same letters as the text field value:*/
		
        if (arr[i].toUpperCase().includes(val.toUpperCase())) {
          /*create a DIV element for each matching element:*/
		  console.log("consd",arr[i].toUpperCase().includes(val.toUpperCase()))
          b = document.createElement("DIV");
          /*make the matching letters bold:*/
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          /*insert a input field that will hold the current array item's value:*/
          b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          /*execute a function when someone clicks on the item value (DIV element):*/
          b.addEventListener("click", function(e) {
              /*insert the value for the autocomplete text field:*/
              inp.value = this.getElementsByTagName("input")[0].value;
			  
              /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
              closeAllLists();
			  getKBdata(inp.value)
          });
          a.appendChild(b);
        }
      }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "autocomplete-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
        /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
        currentFocus++;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 38) { //up
        /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
        currentFocus--;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 13) {
        /*If the ENTER key is pressed, prevent the form from being submitted,*/
        e.preventDefault();
        if (currentFocus > -1) {
          /*and simulate a click on the "active" item:*/
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }

    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
  });
}

  autocomplete(document.getElementById("txt_search"), tags);

						</script>	